{"version":3,"sources":["services/apiSearchImg.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","App.jsx","index.jsx"],"names":["MY_KEY","BASE_URL","getImages","searchQuery","a","searchPage","console","log","axios","get","then","response","data","hits","PixabayFetchFunc","SubmitHandler","onSubmit","useState","value","setValue","className","e","preventDefault","trim","toLowerCase","type","onChange","target","placeholder","ImageGalleryItem","handleClick","image","webformatURL","largeImageURL","src","alt","onClick","ImageGallery","arreyImages","map","el","id","Button","text","modalRoot","document","querySelector","Modal","url","exitModal","useEffect","downKeyHandler","window","addEventListener","removeEventListener","createPortal","Loader","color","height","width","App","params","setSearchQuery","modalOpen","setModalOpen","setArreyImages","setSearchPage","statusReuest","setStatusReuest","fullImageURL","setFullImageURL","length","toast","error","images","prev","scrollHandler","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","toggleOpenModal","currentTarget","code","submitSearchForm","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a9950db1.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst MY_KEY = '20832523-2bf34066ca306390d6c2fd3bb';\nconst BASE_URL = 'https://pixabay.com/api/';\nexport const PER_PAGE = 12;\n\nconst getImages = async (searchQuery, searchPage = 1) => {\n  console.log('GetAPI', searchQuery);\n  console.log('GetApiPAGE', searchPage);\n  return await axios\n    .get(\n      `${BASE_URL}?q=${searchQuery}&page=${searchPage}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`,\n    )\n    .then(response => response.data.hits);\n  // .then(response => console.log(response.data.hits));\n};\n\nconst PixabayFetchFunc = {\n  getImages,\n};\n\nexport default PixabayFetchFunc;\n","import { React, useState } from 'react';\n\nexport default function SubmitHandler({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const SubmitHandler = e => {\n    e.preventDefault();\n    console.log(' перед отправкой', value);\n    onSubmit(value.trim().toLowerCase());\n    setValue('');\n  };\n  const changeHandler = e => {\n    setValue(e.target.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={SubmitHandler}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          onChange={changeHandler}\n          value={value}\n          // autocomplete=\"off\"\n          // autofocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","export function ImageGalleryItem({\n  handleClick,\n  image: { webformatURL, largeImageURL },\n}) {\n  return (\n    <li>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n        onClick={e => handleClick(e, largeImageURL)}\n      />\n    </li>\n  );\n}\n","import { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\n\nexport function ImageGallery({ arreyImages, handleClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {arreyImages.map(el => {\n        console.log('FULLIMG', el.largeImageURL);\n        return (\n          <ImageGalleryItem key={el.id} image={el} handleClick={handleClick} />\n        );\n      })}\n    </ul>\n  );\n}\n","export default function Button({ text, onClick }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onClick}>\n      {text}\n    </button>\n  );\n}\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default function Modal({ url, exitModal }) {\n  useEffect(() => {\n    const downKeyHandler = e => {\n      exitModal(e);\n    };\n\n    window.addEventListener('keydown', downKeyHandler);\n    return () => {\n      window.removeEventListener('keydown', downKeyHandler);\n    };\n  }, [exitModal]);\n\n  // const OverlayHandler = e => {\n  //   if (e.currentTarget === e.target) {\n  //     exitModal();\n  //   }\n  // };\n\n  // const downKeyHandler = e => {\n  //   if (e.code === 'Escape') {\n  //     exitModal();\n  //   }\n  // };\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={exitModal}>\n      <div className=\"Modal\">\n        <img src={url} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spinner from 'react-loader-spinner';\nconst Loader = () => {\n  return (\n    <div className=\"Loader\">\n      <Spinner\n        type=\"Grid\"\n        color=\"#00BFFF\"\n        height={60}\n        width={1200}\n        // timeout={5000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import './styles.css';\nimport { useState, useEffect } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport PixabayFetchFunc, { PER_PAGE } from './services/apiSearchImg';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\n// const BASE_URL = 'https://pixabay.com/api/';\n// const API_KEY = '23145424-17de0e2191faefedd106abc58';\n// const onLoader = 'false';\n// const newPixabayFetchFunc = new PixabayFetchFunc(BASE_URL, API_KEY, onLoader);\n// console.log('SEARCH', newPixabayFetchFunc);\n\nexport default function App(params) {\n  const [searchQuery, setSearchQuery] = useState('');\n  // const [searchValue, setSearchValue] = useState('');\n  const [modalOpen, setModalOpen] = useState(null);\n  // const [onLoader, setOnLoader] = useState(false);\n  const [arreyImages, setArreyImages] = useState([]);\n  const [searchPage, setSearchPage] = useState(1);\n  const [statusReuest, setStatusReuest] = useState('notInvolved');\n  const [fullImageURL, setFullImageURL] = useState('');\n\n  useEffect(() => {\n    if (!searchQuery) return;\n    setStatusReuest('pending');\n\n    PixabayFetchFunc.getImages(searchQuery, searchPage).then(data => {\n      if (data.length === 0 && searchPage === 1) {\n        toast.error('Nothing found');\n        setStatusReuest('notInvolved');\n        return;\n      }\n      if (data.length === 0 && searchPage > 1) {\n        toast.error('images is  absent');\n        setStatusReuest('notInvolved');\n        return;\n      }\n\n      const images = data.map(({ id, webformatURL, largeImageURL }) => ({\n        id,\n        webformatURL,\n        largeImageURL,\n      }));\n\n      setArreyImages(prev => [...prev, ...images]);\n      setStatusReuest('resolved');\n    });\n  }, [searchQuery, searchPage]);\n\n  useEffect(() => {\n    if (arreyImages.length <= PER_PAGE) return;\n    scrollHandler();\n  }, [arreyImages]);\n\n  const onsubmitHandler = submitSearchForm => {\n    if (submitSearchForm.trim() === '') {\n      toast.error('Invalid request');\n      return;\n    }\n    setSearchPage(1);\n    setArreyImages([]);\n    setSearchQuery(submitSearchForm);\n  };\n\n  const scrollHandler = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    });\n  };\n\n  const toggleOpenModal = e => {\n    if (e.target === e.currentTarget || e.code === 'Escape') {\n      setModalOpen(prev => !prev);\n    }\n  };\n  const handleClickImages = (e, url) => {\n    setFullImageURL(url);\n    toggleOpenModal(e);\n    console.log(url);\n    console.log('E', e);\n  };\n\n  const addPages = () => {\n    setSearchPage(prev => prev + 1);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onsubmitHandler} />\n\n      {arreyImages.length > 0 && (\n        <ImageGallery\n          arreyImages={arreyImages}\n          handleClick={handleClickImages}\n        />\n      )}\n\n      {statusReuest === 'pending' && <Loader />}\n\n      {statusReuest === 'resolved' && (\n        <Button onClick={addPages} text=\"LOAD MORE...\" />\n      )}\n      {modalOpen && (\n        <Modal\n          url={fullImageURL}\n          // fullScrinImages={this.fullScrinImages}\n          exitModal={toggleOpenModal}\n        ></Modal>\n      )}\n      <Toaster />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport '../src/styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}