{"version":3,"sources":["components/Searchbar/Searchbar.jsx","services/apiSearchImg.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","App.jsx","index.jsx"],"names":["Searchbar","state","value","SubmitHandler","e","preventDefault","console","log","props","onSubmit","trim","toLowerCase","setState","changeHandler","target","this","className","type","onChange","placeholder","Component","PixabayFetchFunc","BASE_URL","API_KEY","onLoader","_searchQuery","_searchPage","_onLoader","a","axios","defaults","baseURL","searchQuery","searchPage","url","get","result","data","hits","message","ImageGalleryItem","src","webformatURL","alt","onClick","showImageHandle","ImageGallery","arreyImages","map","el","largeImageURL","showImageHandler","id","Button","loadMorer","text","modalRoot","document","querySelector","Modal","OverlayHandler","currentTarget","exitModal","downKeyHandler","code","window","addEventListener","removeEventListener","createPortal","fullImageURL","Loader","color","height","width","newPixabayFetchFunc","App","searchValue","status","openModal","closeModal","imageURL","onsubmitHandler","submitSearchForm","scrollHandler","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","loadMoreHandler","getImages","then","prev","catch","error","finally","prevProps","prevState","resetPage","response","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6745a25b.chunk.js","sourcesContent":["import { React, Component } from 'react';\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  SubmitHandler = e => {\n    e.preventDefault();\n    console.log(' перед отправкой', this.state.value);\n    this.props.onSubmit(this.state.value.trim().toLowerCase());\n    this.setState({ value: '' });\n  };\n  changeHandler = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  // componentDidUpdate(prevProps, prevState) {\n  //   if (prevProps.searchQuery !== this.props.searchQuery)\n  //     console.log('get Fetch');\n  // }\n  render() {\n    const { value } = this.state;\n    console.log(value);\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.SubmitHandler}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            onChange={this.changeHandler}\n            value={value}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nexport class PixabayFetchFunc {\n  constructor(BASE_URL, API_KEY, onLoader) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._searchQuery = '';\n    this._searchPage = 1;\n    this._onLoader = false;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  resetPage() {\n    return (this._searchPage = 1);\n  }\n\n  get searchPage() {\n    return this._searchPage;\n  }\n  set searchPage(value) {\n    return (this._searchPage += value);\n  }\n  // get onLoader() {\n  //   return this._onLoader;\n  // }\n  // set onLoader(value) {\n  //   return this._onLoader !== value;\n  // }\n\n  async getImages() {\n    axios.defaults.baseURL = this.BASE_URL;\n    console.log(\n      'this.searchQuery',\n      this.searchQuery,\n      'searchPage',\n      this.searchPage,\n    );\n\n    let url = `?q=${this.searchQuery}&page=${this.searchPage}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    try {\n      const result = await axios.get(url);\n      const data = await result.data.hits;\n\n      return data;\n    } catch (error) {\n      console.log('err', error.message);\n    }\n  }\n}\n","import { Component } from 'react';\n\nexport default class ImageGalleryItem extends Component {\n  render() {\n    // console.log(this.props.imgFull);\n    return (\n      <li>\n        <img\n          src={this.props.webformatURL}\n          alt=\"\"\n          className=\"ImageGalleryItem-image\"\n          onClick={this.props.showImageHandle}\n        />\n      </li>\n    );\n  }\n}\n","import { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nexport default class ImageGallery extends Component {\n  render() {\n    return (\n      <ul className=\"ImageGallery\">\n        {this.props.arreyImages.map(el => {\n          console.log('FULLIMG', el.largeImageURL);\n          return (\n            <ImageGalleryItem\n              key={el.id}\n              webformatURL={el.webformatURL}\n              showImageHandle={this.props.showImageHandler(el.largeImageURL)}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n","import { Component } from 'react';\n// import { Component } from 'react';\n\nexport default class Button extends Component {\n  render() {\n    return (\n      <button type=\"button\" className=\"Button\" onClick={this.props.loadMorer}>\n        {this.props.text}\n      </button>\n    );\n  }\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.downKeyHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.downKeyHandler);\n  }\n\n  OverlayHandler = e => {\n    if (e.currentTarget === e.target) {\n      this.props.exitModal();\n    }\n  };\n\n  downKeyHandler = e => {\n    if (e.code === 'Escape') {\n      this.props.exitModal();\n    }\n  };\n\n  render() {\n    // console.log('object :>> ', this.props.fullImageURL);\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.OverlayHandler}>\n        <div className=\"Modal\">\n          <img src={this.props.fullImageURL} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spinner from 'react-loader-spinner';\nconst Loader = () => {\n  return (\n    <div className=\"Loader\">\n      <Spinner\n        type=\"Grid\"\n        color=\"#00BFFF\"\n        height={60}\n        width={1200}\n        // timeout={5000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import './styles.css';\nimport React, { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport { PixabayFetchFunc } from './services/apiSearchImg';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Loader from './components/Loader/Loader';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23145424-17de0e2191faefedd106abc58';\nconst onLoader = 'false';\nconst newPixabayFetchFunc = new PixabayFetchFunc(BASE_URL, API_KEY, onLoader);\nconsole.log('SEARCH', newPixabayFetchFunc);\nclass App extends Component {\n  state = {\n    arreyImages: [],\n    searchQuery: '',\n    searchValue: '',\n    status: 'init',\n    openModal: false,\n    onLoader: false,\n  };\n\n  fullImageURL = '';\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.setState({ onLoader: true });\n\n      newPixabayFetchFunc.resetPage();\n\n      newPixabayFetchFunc.searchQuery = this.state.searchQuery;\n      newPixabayFetchFunc\n        .getImages()\n        .then(response => {\n          this.setState({ arreyImages: response });\n          console.log(response);\n        })\n\n        .catch(error => {\n          console.log(error);\n        })\n        .finally(() => {\n          this.setState({ onLoader: false });\n          console.log(this.state.onLoader);\n        });\n\n      this.scrollHandler();\n    }\n    if (\n      prevState.arreyImages.length !== this.state.arreyImages.length &&\n      prevState.arreyImages.length !== 0\n    ) {\n      this.setState({ openModal: false });\n      this.scrollHandler();\n    }\n  }\n  closeModal = () => {\n    this.fullImageURL = '';\n    this.setState({ openModal: false });\n  };\n\n  showImageHandler = imageURL => () => {\n    this.fullImageURL = imageURL;\n    this.setState({ openModal: true });\n  };\n\n  onsubmitHandler = submitSearchForm => {\n    // this.maxPages = 0;\n\n    this.setState(() => ({\n      // arreyImages: [],\n      searchQuery: submitSearchForm,\n      // searchPage: 1,\n    }));\n  };\n\n  scrollHandler = () => {\n    setTimeout(() => {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }, 800);\n  };\n\n  loadMoreHandler = () => {\n    newPixabayFetchFunc.searchPage = 1;\n\n    console.log('searchPage', newPixabayFetchFunc.searchPage);\n\n    this.setState({ onLoader: true });\n\n    newPixabayFetchFunc\n      .getImages()\n      .then(arreyImages => {\n        this.setState(prev => ({\n          arreyImages: [...prev.arreyImages, ...arreyImages],\n        }));\n      })\n      .catch(error => {\n        console.log('НАХІБА ТАКЕ РОБИТИ', error);\n      })\n      .finally(() => {\n        return this.setState({ onLoader: false });\n      });\n  };\n\n  // resetLoader = () => {\n  //   this.setState({ onLoader: true });\n  // };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onsubmitHandler} />\n\n        {this.state.arreyImages.length > 0 && (\n          <ImageGallery\n            arreyImages={this.state.arreyImages}\n            scrollHandler={this.scrollHandler}\n            showImageHandler={this.showImageHandler}\n          />\n        )}\n\n        {/* {newPixabayFetchFunc.onLoader && <Loader />} */}\n        {this.state.onLoader && <Loader />}\n        {this.state.arreyImages.length > 0 && (\n          <Button\n            loadMorer={this.loadMoreHandler}\n            // scrollHandler={this.scrollHandler()}\n            text=\"LOAD MORE...\"\n          />\n        )}\n        {this.state.openModal && (\n          <Modal\n            fullImageURL={this.fullImageURL}\n            // fullScrinImages={this.fullScrinImages}\n            exitModal={this.closeModal}\n          ></Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport '../src/styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}