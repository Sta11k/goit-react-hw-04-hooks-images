{"version":3,"sources":["components/Searchbar/Searchbar.jsx","services/apiSearchImg.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/Loader/Loader.jsx","App.jsx","index.jsx"],"names":["SubmitHandler","onSubmit","useState","value","setValue","className","e","preventDefault","console","log","trim","toLowerCase","type","onChange","target","placeholder","PixabayFetchFunc","BASE_URL","API_KEY","onLoader","this","_searchQuery","_searchPage","_onLoader","a","axios","defaults","baseURL","searchQuery","searchPage","url","get","result","data","hits","message","ImageGalleryItem","webformatURL","showImageHandle","src","alt","onClick","ImageGallery","arreyImages","showImageHandler","map","el","largeImageURL","id","Button","text","loadMorer","modalRoot","document","querySelector","Modal","fullImageURL","exitModal","useEffect","window","addEventListener","downKeyHandler","removeEventListener","code","createPortal","currentTarget","Loader","color","height","width","newPixabayFetchFunc","App","state","searchValue","status","openModal","closeModal","setState","imageURL","onsubmitHandler","submitSearchForm","scrollHandler","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","loadMoreHandler","getImages","then","prev","catch","error","finally","prevProps","prevState","resetPage","response","length","Component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e3b5b0aa.chunk.js","sourcesContent":["import { React, useState } from 'react';\n\nexport default function SubmitHandler({ onSubmit }) {\n  const [value, setValue] = useState('');\n\n  const SubmitHandler = e => {\n    e.preventDefault();\n    console.log(' перед отправкой', value);\n    onSubmit(value.trim().toLowerCase());\n    setValue('');\n  };\n  const changeHandler = e => {\n    setValue(e.target.value);\n  };\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={SubmitHandler}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          onChange={changeHandler}\n          value={value}\n          // autocomplete=\"off\"\n          // autofocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n","import axios from 'axios';\n\nexport class PixabayFetchFunc {\n  constructor(BASE_URL, API_KEY, onLoader) {\n    this.BASE_URL = BASE_URL;\n    this.API_KEY = API_KEY;\n    this._searchQuery = '';\n    this._searchPage = 1;\n    this._onLoader = false;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n\n  resetPage() {\n    return (this._searchPage = 1);\n  }\n\n  get searchPage() {\n    return this._searchPage;\n  }\n  set searchPage(value) {\n    return (this._searchPage += value);\n  }\n  // get onLoader() {\n  //   return this._onLoader;\n  // }\n  // set onLoader(value) {\n  //   return this._onLoader !== value;\n  // }\n\n  async getImages() {\n    axios.defaults.baseURL = this.BASE_URL;\n    console.log(\n      'this.searchQuery',\n      this.searchQuery,\n      'searchPage',\n      this.searchPage,\n    );\n\n    let url = `?q=${this.searchQuery}&page=${this.searchPage}&key=${this.API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    try {\n      const result = await axios.get(url);\n      const data = await result.data.hits;\n\n      return data;\n    } catch (error) {\n      console.log('err', error.message);\n    }\n  }\n}\n\n// import axios from 'axios';\n\n// const PixabayFetchFunc = async ({\n//   BASE_URL,\n//   API_KEY,\n//   searchPage = 1,\n//   searchQuery,\n// }) => {\n//   axios.defaults.baseURL = BASE_URL;\n//   let url = `?q=${searchQuery}&page=${searchPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n//   const result = await axios.get(url);\n//   const data = await result.data.hits;\n\n//   return data;\n// };\n\n// export default PixabayFetchFunc;\n","export default function ImageGalleryItem({ webformatURL, showImageHandle }) {\n  return (\n    <li>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className=\"ImageGalleryItem-image\"\n        onClick={showImageHandle}\n      />\n    </li>\n  );\n}\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nexport default function ImageGallery({ arreyImages, showImageHandler }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {arreyImages.map(el => {\n        console.log('FULLIMG', el.largeImageURL);\n        return (\n          <ImageGalleryItem\n            key={el.id}\n            webformatURL={el.webformatURL}\n            showImageHandle={showImageHandler(el.largeImageURL)}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n","export default function Button({ text, loadMorer }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={loadMorer}>\n      {text}\n    </button>\n  );\n}\n","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default function Modal({ fullImageURL, exitModal }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', downKeyHandler);\r\n    return () => {\r\n      window.removeEventListener('keydown', downKeyHandler);\r\n    };\r\n  });\r\n\r\n  const OverlayHandler = e => {\r\n    if (e.currentTarget === e.target) {\r\n      exitModal();\r\n    }\r\n  };\r\n\r\n  const downKeyHandler = e => {\r\n    if (e.code === 'Escape') {\r\n      exitModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"Overlay\" onClick={OverlayHandler}>\r\n      <div className=\"Modal\">\r\n        <img src={fullImageURL} alt=\"\" />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Spinner from 'react-loader-spinner';\nconst Loader = () => {\n  return (\n    <div className=\"Loader\">\n      <Spinner\n        type=\"Grid\"\n        color=\"#00BFFF\"\n        height={60}\n        width={1200}\n        // timeout={5000} //3 secs\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import './styles.css';\r\nimport React, { Component } from 'react';\r\nimport Searchbar from './components/Searchbar/Searchbar';\r\nimport { PixabayFetchFunc } from './services/apiSearchImg';\r\nimport ImageGallery from './components/ImageGallery/ImageGallery';\r\nimport Button from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\nimport Loader from './components/Loader/Loader';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '23145424-17de0e2191faefedd106abc58';\r\nconst onLoader = 'false';\r\nconst newPixabayFetchFunc = new PixabayFetchFunc(BASE_URL, API_KEY, onLoader);\r\nconsole.log('SEARCH', newPixabayFetchFunc);\r\nclass App extends Component {\r\n  state = {\r\n    arreyImages: [],\r\n    searchQuery: '',\r\n    searchValue: '',\r\n    status: 'init',\r\n    openModal: false,\r\n    onLoader: false,\r\n  };\r\n\r\n  fullImageURL = '';\r\n  componentDidMount() {}\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.setState({ onLoader: true });\r\n\r\n      newPixabayFetchFunc.resetPage();\r\n\r\n      newPixabayFetchFunc.searchQuery = this.state.searchQuery;\r\n      newPixabayFetchFunc\r\n        .getImages()\r\n        .then(response => {\r\n          this.setState({ arreyImages: response });\r\n          console.log(response);\r\n        })\r\n\r\n        .catch(error => {\r\n          console.log(error);\r\n        })\r\n        .finally(() => {\r\n          this.setState({ onLoader: false });\r\n          console.log(this.state.onLoader);\r\n        });\r\n\r\n      this.scrollHandler();\r\n    }\r\n    if (\r\n      prevState.arreyImages.length !== this.state.arreyImages.length &&\r\n      prevState.arreyImages.length !== 0\r\n    ) {\r\n      this.setState({ openModal: false });\r\n      this.scrollHandler();\r\n    }\r\n  }\r\n  closeModal = () => {\r\n    this.fullImageURL = '';\r\n    this.setState({ openModal: false });\r\n  };\r\n\r\n  showImageHandler = imageURL => () => {\r\n    this.fullImageURL = imageURL;\r\n    this.setState({ openModal: true });\r\n  };\r\n\r\n  onsubmitHandler = submitSearchForm => {\r\n    // this.maxPages = 0;\r\n\r\n    this.setState(() => ({\r\n      // arreyImages: [],\r\n      searchQuery: submitSearchForm,\r\n      // searchPage: 1,\r\n    }));\r\n  };\r\n\r\n  scrollHandler = () => {\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 800);\r\n  };\r\n\r\n  loadMoreHandler = () => {\r\n    newPixabayFetchFunc.searchPage = 1;\r\n\r\n    console.log('searchPage', newPixabayFetchFunc.searchPage);\r\n\r\n    this.setState({ onLoader: true });\r\n\r\n    newPixabayFetchFunc\r\n      .getImages()\r\n      .then(arreyImages => {\r\n        this.setState(prev => ({\r\n          arreyImages: [...prev.arreyImages, ...arreyImages],\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        console.log('НАХІБА ТАКЕ РОБИТИ', error);\r\n      })\r\n      .finally(() => {\r\n        return this.setState({ onLoader: false });\r\n      });\r\n  };\r\n\r\n  // resetLoader = () => {\r\n  //   this.setState({ onLoader: true });\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Searchbar onSubmit={this.onsubmitHandler} />\r\n\r\n        {this.state.arreyImages.length > 0 && (\r\n          <ImageGallery\r\n            arreyImages={this.state.arreyImages}\r\n            scrollHandler={this.scrollHandler}\r\n            showImageHandler={this.showImageHandler}\r\n          />\r\n        )}\r\n\r\n        {/* {newPixabayFetchFunc.onLoader && <Loader />} */}\r\n        {this.state.onLoader && <Loader />}\r\n        {this.state.arreyImages.length > 0 && (\r\n          <Button\r\n            loadMorer={this.loadMoreHandler}\r\n            // scrollHandler={this.scrollHandler()}\r\n            text=\"LOAD MORE...\"\r\n          />\r\n        )}\r\n        {this.state.openModal && (\r\n          <Modal\r\n            fullImageURL={this.fullImageURL}\r\n            // fullScrinImages={this.fullScrinImages}\r\n            exitModal={this.closeModal}\r\n          ></Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport '../src/styles.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}